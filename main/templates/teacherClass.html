<!-- IMPORTANT: 
1. to adjust the confusometer using JS go to the .meter-fill and transform:rotate and change
the value inside accordingly
2. To adjust the specifiermeter level change the value within HTML
3. To adjust the specifiermeter order change the order at the end of the CSS file*/-->

<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="../static/css/confusometer.css">
        <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <title>ConfusoMeter</title>
        
      </head>

    <body>
        <input type="hidden" id="repVar" name="variable1" value="{{ num_repeat }}">
        <input type="hidden" id="rephVar" name="variable2" value="{{ num_rephrase }}">
        <input type="hidden" id="slowVar" name="variable3" value="{{ num_slow }}">
        <input type="hidden" id="exVar" name="variable4" value="{{ num_example}}">
        <input type="hidden" id="percentVar" name="variable5" value="{{percent_confused}}">
        <div class = "miscellaneous">
            <a href="/teacherpostlecture">
                <i class="material-icons arrow" style="font-size:36px;">arrow_back</i> 
            </a>

            <div class="circle">
                <a href="">
                <img class="profile" src="../static/img/profile.jpg" alt="profile">
                </a> 
            </div>
        </div>  

        <div class = "confusometer">
            <h1>Confuso-Meter</h1>
            <div class="mainmeter-wrap">
                <div class="meter-body">
                    <div class="meter-fill"></div>
                    <div class="meter-inner"></div>
                </div>
            
            <div class="mainmeter-number">
                <h2 class="mainmeter-number">{{ percent_confused }}%</h2>
            </div>
            </div>
            
        </div>

        <div class = "specifiers">
            <div class="specifiertext">
                <h1 class="specifiers">Could you please...?</h1>
            </div>
            <div class="specifiermeter-wrap">
                <div class="repeatyourself specifiermeter">
                    <div class="specifiermeter-header"><p>Repeat last : {{ num_repeat }}</p></div>
                    <div class="specifiermeter-meter">
                        <meter id = "repeat-spec-meter" value="0" min="0" max="100" low="0" high="100"></meter>
                    </div>
                </div>
                <div class="slowdown specifiermeter">
                    <div class="specifiermeter-header"><p>Slow Down : {{ num_slow }}</p></div>
                    <div class="specifiermeter-meter">
                        <meter id = "slow-spec-meter" value="0" min="0" max="100" low="0" high="100"></meter>
                    </div>
                </div>
                <div class="rephrase specifiermeter">
                    <div class="specifiermeter-header"><p>Rephrase last : {{ num_rephrase }}</p></div>
                    <div class="specifiermeter-meter">
                        <meter id = "rephrase-spec-meter" value="0" min="0" max="100" low="0" high="100"></meter>
                    </div>
                </div>
                <div class="provideexample specifiermeter">
                    <div class="specifiermeter-header"><p>Provide Example : {{ num_example }}</p></div>
                    <div class="specifiermeter-meter">
                        <meter id = "example-spec-meter" value="0" min="0" max="100" low="0" high="100"></meter>
                    </div>
                </div>
            </div>
        </div>

        <div class = "logowrapper">
            <img class = "icon" src = "../static/img/icon.svg"></img>
        </div>
        </div>
            <a href="/teacherEnd"><button>End of Class</button></a>
            <a href="/logout"><button>Logout</button></a>
        </div>

        <script type="text/javascript">
            meterRepeat = document.getElementById('repeat-spec-meter');
            var num_repeat = document.getElementById("repVar").value * 1.0;
            meterRephrase = document.getElementById('rephrase-spec-meter');
            var num_rephrase= document.getElementById("rephVar").value * 1.0;
            meterSlow = document.getElementById('slow-spec-meter');
            var num_slow = document.getElementById("slowVar").value * 1.0;
            meterExample= document.getElementById('example-spec-meter');
            var num_example = document.getElementById("exVar").value * 1.0;
            var sum = num_repeat + num_rephrase + num_slow + num_example;
            
            meterRepeat.value = 100.0 * (num_repeat / sum);
            meterRephrase.value = 100.0 * (num_rephrase/sum);
            meterSlow.value = 100.0 * (num_slow/sum);
            meterExample.value = 100.0 * (num_example/sum);
        </script>

        

    </body>


  
</html>